{"mappings":"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AA,CACd,IAAM,EAAU,IAAI,CAAC,UAAU,EAAE,iBAAiB,wBAE9C,GAAS,CAAC,EAAE,EACd,IAAI,CAAC,eAAe,CAAC,CAAO,CAAC,EAAE,CAAE,mBAE/B,GAAS,CAAC,EAAE,EACd,IAAI,CAAC,eAAe,CAAC,CAAO,CAAC,EAAE,CAAE,mBAErC,CAGgB,QAAA,CACd,MAAO,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,CAAI,CAAX;;0BAEwB,EAAA,CAAA,EAAA;kBACR,EAAA,IAAI,CAAC,YAAY,EAAE,CAAC,EAAE,CAAtB;;sCAEoB,EAAA,IAAI,CAAC,cAAc,CAAnB;IACnC,CAAA,AACH,CAGQ,gBAAgB,CAAoB,CAAE,CAAmB,CAAzD,CACN,EAAQ,OAAO,CAAC,CAAC,CAAE,UAAW,iBAAiB,EAAI,CAAE,UAAW,CAAW,EAAG,CAAE,CAC9E,SAAU,KACV,OAAQ,iCACR,UAAW,YACX,WAAY,GACb,EACH,C,CArCuB,CAAA,EAAA,MAAM,CAAG,EAAA,OAAA,CADrB,A,S,C,C,C,C,C,C,C,E,I,E,E,U,M,C,E,E,E,E,A,O,E,E,O,wB,C,E,G,E,G,A,U,O,S,A,Y,O,Q,Q,C,E,Q,Q,C,E,E,E,Q,I,I,E,E,M,C,E,G,E,I,C,E,C,C,E,A,G,C,E,A,C,E,E,E,G,E,E,E,E,E,G,E,E,E,G,C,C,C,E,G,G,O,c,C,E,E,E,EAAA,CADZ,AAAA,CAAA,EAAA,EAAA,aAAA,AAAA,EAAc,uBACF,CAAA,E,G,E,Q,S,C,C,C,E,E,E,O,C,U,I,G,I,E,E,SEJb,EAAe,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,CAAG,CAAlB;;;;;;;;;;AAUC,CAAA,A,G,E,Q,S,C,C,C,E,I,E,E,S,E,E,S,E,E,S,E,E,S,E,E,S,E,S,C,C,C,C,C,C,C,E,I,E,E,U,M,C,E,E,E,E,A,O,E,E,O,wB,C,E,G,E,G,A,U,O,S,A,Y,O,Q,Q,C,E,Q,Q,C,E,E,E,Q,I,I,E,E,M,C,E,G,E,I,C,E,C,C,E,A,G,C,E,A,C,E,E,E,G,E,E,E,E,E,G,E,E,E,G,C,E,O,E,G,G,O,c,C,E,E,G,C,EEGM,IAAM,EAAN,cAAoC,EAAA,UAAA,CAApC,aAAA,C,K,I,WAEY,IAAA,CAAA,QAAQ,CAAG,AAAA,EAAA,iBAAA,CAAkB,KAAK,CAAC,QAAQ,EAAE,KAE7C,IAAA,CAAA,SAAS,CAAG,CAAA,CA+F/B,CA5FkB,QAAA,CACd,MAAO,AAAA,CAAA,EAAA,EAAA,IAAA,AAAA,CAAI,CAAX;iDAC+C,EAAA,CAAC,MAAO,IAAK,MAAO,IAAa,CAAjC;;;;iBAIhC,EAAA,CAAC,IAAK,MAAO,IAAK,MAAe,CAAjC;;;;;WAKN,EAAA,IAAI,CAAC,QAAQ,EAAI,OAAjB;;;;iBAIM,EAAA,CAAC,IAAK,MAAO,IAAK,MAAe,CAAjC;;;;;;;;;yBASQ,EAAA,CAAC,IAAK,KAAM,KAAM,KAAc,CAAhC;;;qBAGJ,EAAA,CAAA,EAAA;;iBAEJ,EAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAvB;;;;;;;qBAOI,EAAA,CAAA,EAAA;;iBAEJ,EAAA,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAArB;mBACE,EAAA,IAAI,CAAC,SAAS,CAAd;;;UAGT,EAAA,IAAI,CAAC,SAAS,CAAG,aAAe,OAAhC;;;IAGP,CAAA,AACH,CAGQ,MAAM,QAAN,CACN,IAAI,CAAC,SAAS,CAAG,CAAA,EACjB,AAAA,CAAA,EAAA,EAAA,gBAAA,AAAA,EAAiB,SAAS,CAAC,CACzB,MAAO,0BACP,KAAM,OACP,GACD,GAAI,CACF,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAe,SAAS,CAAC,WACzB,IAAM,EAAU,MAAM,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAe,MAAM,GAO3C,MANA,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAe,SAAS,CAAC,WACzB,AAAA,CAAA,EAAA,EAAA,gBAAA,AAAA,EAAiB,SAAS,CAAC,CACzB,MAAO,oBACP,KAAM,OACP,GAEM,CACT,CAAE,MAAO,EAAO,CAKd,MAJA,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAgB,SAAS,CAAC,sBAE1B,AAAA,CAAA,EAAA,EAAA,cAAA,AAAA,EAAe,SAAS,CAAC,SAElB,AAAA,CAAA,EAAA,EAAA,gBAAA,AAAA,EAAiB,SAAS,CAAC,CAChC,MAAO,kBACP,KAAM,OACP,EACH,QAAU,CACR,IAAI,CAAC,SAAS,CAAG,CAAA,CACnB,CACF,CAEQ,MAAM,UAAN,CACN,GAAM,CAAA,YAAE,CAAW,CAAE,CAAG,AAAA,EAAA,iBAAA,CAAkB,KAAK,CAC3C,GACF,MAAM,AAAA,CAAA,EAAA,EAAA,oBAAA,AAAA,EAAqB,UAAU,GACrC,AAAA,CAAA,EAAA,EAAA,eAAA,AAAA,EAAgB,KAAK,IAErB,AAAA,CAAA,EAAA,EAAA,gBAAA,AAAA,EAAiB,IAAI,CAAC,WAExB,AAAA,CAAA,EAAA,EAAA,gBAAA,AAAA,EAAiB,SAAS,CAAC,CACzB,MAAO,oBACP,KAAM,OACP,EACH,CACD,EA/FkB,EAAA,CAAhB,AAAA,CAAA,EAAA,EAAA,KAAA,AAAA,IAAiC,CAAA,EAAA,SAAA,CAAA,YAAA,KAAA,GAJvB,EAAA,CADZ,AAAA,CAAA,EAAA,EAAA,aAAA,AAAA,EAAc,4BACF,CAAA,E","sources":["<anon>","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/exports/index.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/exports/index.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/src/client.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/src/client.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/core/utils/ConstantsUtil.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/core/utils/ConstantsUtil.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/core/controller/SIWEController.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/core/controller/SIWEController.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/scaffold/partials/w3m-connecting-siwe/index.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/scaffold/partials/w3m-connecting-siwe/index.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/scaffold/partials/w3m-connecting-siwe/styles.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/scaffold/partials/w3m-connecting-siwe/styles.ts","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/dist/esm/scaffold/views/w3m-connecting-siwe-view/index.js","node_modules/@web3modal/scaffold/node_modules/@web3modal/siwe/scaffold/views/w3m-connecting-siwe-view/index.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire3018\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"iUPXV\", function(module, exports) {\n\n$parcel$export(module.exports, \"SIWEController\", () => (parcelRequire(\"hbiEF\")).SIWEController);\n\nvar $ZPkJV = parcelRequire(\"ZPkJV\");\n\nvar $hbiEF = parcelRequire(\"hbiEF\");\nparcelRequire(\"762T6\");\nparcelRequire(\"7Oukc\");\nfunction $dc55c43681fc7c2a$export$9d1e8465cbd8561e(siweConfig) {\n    return new (0, $ZPkJV.Web3ModalSIWEClient)(siweConfig);\n}\n\n});\nparcelRegister(\"ZPkJV\", function(module, exports) {\n\n$parcel$export(module.exports, \"Web3ModalSIWEClient\", () => $0b9d8462c42cf872$export$4a2da4e102909cf4);\n\nvar $9CctF = parcelRequire(\"9CctF\");\n\nvar $6JirK = parcelRequire(\"6JirK\");\n\nvar $1b7jQ = parcelRequire(\"1b7jQ\");\nclass $0b9d8462c42cf872$export$4a2da4e102909cf4 {\n    constructor(siweConfig){\n        const { enabled: enabled = true, nonceRefetchIntervalMs: nonceRefetchIntervalMs = (0, $6JirK.ConstantsUtil).FIVE_MINUTES_IN_MS, sessionRefetchIntervalMs: sessionRefetchIntervalMs = (0, $6JirK.ConstantsUtil).FIVE_MINUTES_IN_MS, signOutOnAccountChange: signOutOnAccountChange = true, signOutOnDisconnect: signOutOnDisconnect = true, signOutOnNetworkChange: signOutOnNetworkChange = true, ...siweConfigMethods } = siweConfig;\n        this.options = {\n            enabled: enabled,\n            nonceRefetchIntervalMs: nonceRefetchIntervalMs,\n            sessionRefetchIntervalMs: sessionRefetchIntervalMs,\n            signOutOnDisconnect: signOutOnDisconnect,\n            signOutOnAccountChange: signOutOnAccountChange,\n            signOutOnNetworkChange: signOutOnNetworkChange\n        };\n        this.methods = siweConfigMethods;\n    }\n    async getNonce() {\n        const nonce = await this.methods.getNonce();\n        if (!nonce) throw new Error(\"siweControllerClient:getNonce - nonce is undefined\");\n        return nonce;\n    }\n    createMessage(args) {\n        const message = this.methods.createMessage(args);\n        if (!message) throw new Error(\"siweControllerClient:createMessage - message is undefined\");\n        return message;\n    }\n    async verifyMessage(args) {\n        const isValid = await this.methods.verifyMessage(args);\n        return isValid;\n    }\n    async getSession() {\n        const session = await this.methods.getSession();\n        if (!session) throw new Error(\"siweControllerClient:getSession - session is undefined\");\n        return session;\n    }\n    async signIn() {\n        const nonce = await this.methods.getNonce();\n        const { address: address } = (0, $9CctF.AccountController).state;\n        if (!address) throw new Error(\"An address is required to create a SIWE message.\");\n        const chainId = (0, $1b7jQ.HelpersUtil).caipNetworkIdToNumber((0, $9CctF.NetworkController).state.caipNetwork?.id);\n        if (!chainId) throw new Error(\"A chainId is required to create a SIWE message.\");\n        const message = this.methods.createMessage({\n            address: address,\n            nonce: nonce,\n            chainId: chainId\n        });\n        const signature = await (0, $9CctF.ConnectionController).signMessage(message);\n        const isValid = await this.methods.verifyMessage({\n            message: message,\n            signature: signature\n        });\n        if (!isValid) throw new Error(\"Error verifying SIWE signature\");\n        const session = await this.methods.getSession();\n        if (!session) throw new Error(\"Error verifying SIWE signature\");\n        if (this.methods.onSignIn) this.methods.onSignIn(session);\n        (0, $9CctF.RouterUtil).navigateAfterNetworkSwitch();\n        return session;\n    }\n    async signOut() {\n        return this.methods.signOut();\n    }\n}\n\n});\nparcelRegister(\"6JirK\", function(module, exports) {\n\n$parcel$export(module.exports, \"ConstantsUtil\", () => $4e6541268a2be40e$export$aafe1f751f1bc52a);\nconst $4e6541268a2be40e$export$aafe1f751f1bc52a = {\n    FIVE_MINUTES_IN_MS: 300000\n};\n\n});\n\n\nparcelRegister(\"hbiEF\", function(module, exports) {\n\n$parcel$export(module.exports, \"SIWEController\", () => $c821ef35a29a30af$export$3ff5b538099e7763);\n\nvar $8tzvu = parcelRequire(\"8tzvu\");\n\nvar $lDt57 = parcelRequire(\"lDt57\");\n\nvar $9CctF = parcelRequire(\"9CctF\");\nconst $c821ef35a29a30af$var$state = (0, $lDt57.proxy)({\n    status: \"uninitialized\"\n});\nconst $c821ef35a29a30af$export$3ff5b538099e7763 = {\n    state: $c821ef35a29a30af$var$state,\n    subscribeKey (key, callback) {\n        return (0, $8tzvu.subscribeKey)($c821ef35a29a30af$var$state, key, callback);\n    },\n    subscribe (callback) {\n        return (0, $lDt57.subscribe)($c821ef35a29a30af$var$state, ()=>callback($c821ef35a29a30af$var$state));\n    },\n    _getClient () {\n        if (!$c821ef35a29a30af$var$state._client) throw new Error(\"SIWEController client not set\");\n        return $c821ef35a29a30af$var$state._client;\n    },\n    async getNonce () {\n        const client = this._getClient();\n        const nonce = await client.getNonce();\n        this.setNonce(nonce);\n        return nonce;\n    },\n    async getSession () {\n        const client = this._getClient();\n        const session = await client.getSession();\n        if (session) {\n            this.setSession(session);\n            this.setStatus(\"success\");\n        }\n        return session;\n    },\n    createMessage (args) {\n        const client = this._getClient();\n        const message = client.createMessage(args);\n        this.setMessage(message);\n        return message;\n    },\n    async verifyMessage (args) {\n        const client = this._getClient();\n        const isValid = await client.verifyMessage(args);\n        return isValid;\n    },\n    async signIn () {\n        const client = this._getClient();\n        const session = await client.signIn();\n        return session;\n    },\n    async signOut () {\n        const client = this._getClient();\n        await client.signOut();\n        this.setStatus(\"ready\");\n        client.onSignOut?.();\n    },\n    onSignIn (args) {\n        const client = this._getClient();\n        client.onSignIn?.(args);\n    },\n    onSignOut () {\n        const client = this._getClient();\n        client.onSignOut?.();\n    },\n    setSIWEClient (client) {\n        $c821ef35a29a30af$var$state._client = (0, $lDt57.ref)(client);\n        $c821ef35a29a30af$var$state.status = \"ready\";\n        (0, $9CctF.OptionsController).setIsSiweEnabled(client.options.enabled);\n    },\n    setNonce (nonce) {\n        $c821ef35a29a30af$var$state.nonce = nonce;\n    },\n    setStatus (status) {\n        $c821ef35a29a30af$var$state.status = status;\n    },\n    setMessage (message) {\n        $c821ef35a29a30af$var$state.message = message;\n    },\n    setSession (session) {\n        $c821ef35a29a30af$var$state.session = session;\n    }\n};\n\n});\n\nparcelRegister(\"762T6\", function(module, exports) {\n\nvar $8lZNB = parcelRequire(\"8lZNB\");\n\nvar $dYFMW = parcelRequire(\"dYFMW\");\n\nvar $8oFEX = parcelRequire(\"8oFEX\");\n\nvar $9CctF = parcelRequire(\"9CctF\");\nvar $52ab555e463572b3$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nlet $52ab555e463572b3$export$415fdf721000461b = class W3mConnectingSiwe extends (0, $dYFMW.LitElement) {\n    constructor(){\n        super(...arguments);\n        this.dappImageUrl = (0, $9CctF.OptionsController).state.metadata?.icons;\n        this.walletImageUrl = (0, $9CctF.StorageUtil).getConnectedWalletImageUrl();\n    }\n    firstUpdated() {\n        const visuals = this.shadowRoot?.querySelectorAll(\"wui-visual-thumbnail\");\n        if (visuals?.[0]) this.createAnimation(visuals[0], \"translate(18px)\");\n        if (visuals?.[1]) this.createAnimation(visuals[1], \"translate(-18px)\");\n    }\n    render() {\n        return (0, $dYFMW.html)`\n      <wui-visual-thumbnail\n        ?borderRadiusFull=${true}\n        .imageSrc=${this.dappImageUrl?.[0]}\n      ></wui-visual-thumbnail>\n      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>\n    `;\n    }\n    createAnimation(element, translation) {\n        element.animate([\n            {\n                transform: \"translateX(0px)\"\n            },\n            {\n                transform: translation\n            }\n        ], {\n            duration: 1600,\n            easing: \"cubic-bezier(0.56, 0, 0.48, 1)\",\n            direction: \"alternate\",\n            iterations: Infinity\n        });\n    }\n};\n$52ab555e463572b3$export$415fdf721000461b.styles = (0, $8oFEX.default);\n$52ab555e463572b3$export$415fdf721000461b = $52ab555e463572b3$var$__decorate([\n    (0, $8lZNB.customElement)(\"w3m-connecting-siwe\")\n], $52ab555e463572b3$export$415fdf721000461b);\n\n});\nparcelRegister(\"8oFEX\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $61d0e159736e59ce$export$2e2bcd8739ae039);\n\nvar $dYFMW = parcelRequire(\"dYFMW\");\nvar $61d0e159736e59ce$export$2e2bcd8739ae039 = (0, $dYFMW.css)`\n  :host {\n    display: flex;\n    justify-content: center;\n    gap: var(--wui-spacing-2xl);\n  }\n\n  wui-visual-thumbnail:nth-child(1) {\n    z-index: 1;\n  }\n`;\n\n});\n\n\nparcelRegister(\"7Oukc\", function(module, exports) {\n\nvar $9CctF = parcelRequire(\"9CctF\");\n\nvar $8lZNB = parcelRequire(\"8lZNB\");\n\nvar $dYFMW = parcelRequire(\"dYFMW\");\n\nvar $7AsZS = parcelRequire(\"7AsZS\");\n\nvar $hbiEF = parcelRequire(\"hbiEF\");\nvar $5b04b9c9c8622b46$var$__decorate = undefined && undefined.__decorate || function(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nlet $5b04b9c9c8622b46$export$cbe596dc0e3ac801 = class W3mConnectingSiweView extends (0, $dYFMW.LitElement) {\n    constructor(){\n        super(...arguments);\n        this.dappName = (0, $9CctF.OptionsController).state.metadata?.name;\n        this.isSigning = false;\n    }\n    render() {\n        return (0, $dYFMW.html)`\n      <wui-flex justifyContent=\"center\" .padding=${[\n            \"2xl\",\n            \"0\",\n            \"xxl\",\n            \"0\"\n        ]}>\n        <w3m-connecting-siwe></w3m-connecting-siwe>\n      </wui-flex>\n      <wui-flex\n        .padding=${[\n            \"0\",\n            \"4xl\",\n            \"l\",\n            \"4xl\"\n        ]}\n        gap=\"s\"\n        justifyContent=\"space-between\"\n      >\n        <wui-text variant=\"paragraph-500\" align=\"center\" color=\"fg-100\"\n          >${this.dappName ?? \"Dapp\"} needs to connect to your wallet</wui-text\n        >\n      </wui-flex>\n      <wui-flex\n        .padding=${[\n            \"0\",\n            \"3xl\",\n            \"l\",\n            \"3xl\"\n        ]}\n        gap=\"s\"\n        justifyContent=\"space-between\"\n      >\n        <wui-text variant=\"small-400\" align=\"center\" color=\"fg-200\"\n          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect\n          you.</wui-text\n        >\n      </wui-flex>\n      <wui-flex .padding=${[\n            \"l\",\n            \"xl\",\n            \"xl\",\n            \"xl\"\n        ]} gap=\"s\" justifyContent=\"space-between\">\n        <wui-button\n          size=\"md\"\n          ?fullwidth=${true}\n          variant=\"shade\"\n          @click=${this.onCancel.bind(this)}\n          data-testid=\"w3m-connecting-siwe-cancel\"\n        >\n          Cancel\n        </wui-button>\n        <wui-button\n          size=\"md\"\n          ?fullwidth=${true}\n          variant=\"fill\"\n          @click=${this.onSign.bind(this)}\n          ?loading=${this.isSigning}\n          data-testid=\"w3m-connecting-siwe-sign\"\n        >\n          ${this.isSigning ? \"Signing...\" : \"Sign\"}\n        </wui-button>\n      </wui-flex>\n    `;\n    }\n    async onSign() {\n        this.isSigning = true;\n        (0, $9CctF.EventsController).sendEvent({\n            event: \"CLICK_SIGN_SIWE_MESSAGE\",\n            type: \"track\"\n        });\n        try {\n            (0, $hbiEF.SIWEController).setStatus(\"loading\");\n            const session = await (0, $hbiEF.SIWEController).signIn();\n            (0, $hbiEF.SIWEController).setStatus(\"success\");\n            (0, $9CctF.EventsController).sendEvent({\n                event: \"SIWE_AUTH_SUCCESS\",\n                type: \"track\"\n            });\n            return session;\n        } catch (error) {\n            (0, $9CctF.SnackController).showError(\"Signature declined\");\n            (0, $hbiEF.SIWEController).setStatus(\"error\");\n            return (0, $9CctF.EventsController).sendEvent({\n                event: \"SIWE_AUTH_ERROR\",\n                type: \"track\"\n            });\n        } finally{\n            this.isSigning = false;\n        }\n    }\n    async onCancel() {\n        const { isConnected: isConnected } = (0, $9CctF.AccountController).state;\n        if (isConnected) {\n            await (0, $9CctF.ConnectionController).disconnect();\n            (0, $9CctF.ModalController).close();\n        } else (0, $9CctF.RouterController).push(\"Connect\");\n        (0, $9CctF.EventsController).sendEvent({\n            event: \"CLICK_CANCEL_SIWE\",\n            type: \"track\"\n        });\n    }\n};\n$5b04b9c9c8622b46$var$__decorate([\n    (0, $7AsZS.state)()\n], $5b04b9c9c8622b46$export$cbe596dc0e3ac801.prototype, \"isSigning\", void 0);\n$5b04b9c9c8622b46$export$cbe596dc0e3ac801 = $5b04b9c9c8622b46$var$__decorate([\n    (0, $8lZNB.customElement)(\"w3m-connecting-siwe-view\")\n], $5b04b9c9c8622b46$export$cbe596dc0e3ac801);\n\n});\n\n\n\n//# sourceMappingURL=exports.2d101d2b.js.map\n","import { Web3ModalSIWEClient } from '../src/client.js';\nexport { SIWEController } from '../core/controller/SIWEController.js';\nexport function createSIWEConfig(siweConfig) {\n    return new Web3ModalSIWEClient(siweConfig);\n}\nexport * from '../scaffold/partials/w3m-connecting-siwe/index.js';\nexport * from '../scaffold/views/w3m-connecting-siwe-view/index.js';\n//# sourceMappingURL=index.js.map",null,"import { AccountController, NetworkController, ConnectionController, RouterUtil } from '@web3modal/core';\nimport { ConstantsUtil } from '../core/utils/ConstantsUtil.js';\nimport { HelpersUtil } from '@web3modal/scaffold-utils';\nexport class Web3ModalSIWEClient {\n    constructor(siweConfig) {\n        const { enabled = true, nonceRefetchIntervalMs = ConstantsUtil.FIVE_MINUTES_IN_MS, sessionRefetchIntervalMs = ConstantsUtil.FIVE_MINUTES_IN_MS, signOutOnAccountChange = true, signOutOnDisconnect = true, signOutOnNetworkChange = true, ...siweConfigMethods } = siweConfig;\n        this.options = {\n            enabled,\n            nonceRefetchIntervalMs,\n            sessionRefetchIntervalMs,\n            signOutOnDisconnect,\n            signOutOnAccountChange,\n            signOutOnNetworkChange\n        };\n        this.methods = siweConfigMethods;\n    }\n    async getNonce() {\n        const nonce = await this.methods.getNonce();\n        if (!nonce) {\n            throw new Error('siweControllerClient:getNonce - nonce is undefined');\n        }\n        return nonce;\n    }\n    createMessage(args) {\n        const message = this.methods.createMessage(args);\n        if (!message) {\n            throw new Error('siweControllerClient:createMessage - message is undefined');\n        }\n        return message;\n    }\n    async verifyMessage(args) {\n        const isValid = await this.methods.verifyMessage(args);\n        return isValid;\n    }\n    async getSession() {\n        const session = await this.methods.getSession();\n        if (!session) {\n            throw new Error('siweControllerClient:getSession - session is undefined');\n        }\n        return session;\n    }\n    async signIn() {\n        const nonce = await this.methods.getNonce();\n        const { address } = AccountController.state;\n        if (!address) {\n            throw new Error('An address is required to create a SIWE message.');\n        }\n        const chainId = HelpersUtil.caipNetworkIdToNumber(NetworkController.state.caipNetwork?.id);\n        if (!chainId) {\n            throw new Error('A chainId is required to create a SIWE message.');\n        }\n        const message = this.methods.createMessage({ address, nonce, chainId });\n        const signature = await ConnectionController.signMessage(message);\n        const isValid = await this.methods.verifyMessage({ message, signature });\n        if (!isValid) {\n            throw new Error('Error verifying SIWE signature');\n        }\n        const session = await this.methods.getSession();\n        if (!session) {\n            throw new Error('Error verifying SIWE signature');\n        }\n        if (this.methods.onSignIn) {\n            this.methods.onSignIn(session);\n        }\n        RouterUtil.navigateAfterNetworkSwitch();\n        return session;\n    }\n    async signOut() {\n        return this.methods.signOut();\n    }\n}\n//# sourceMappingURL=client.js.map",null,"export const ConstantsUtil = {\n    FIVE_MINUTES_IN_MS: 300000\n};\n//# sourceMappingURL=ConstantsUtil.js.map",null,"import { subscribeKey as subKey } from 'valtio/utils';\nimport { proxy, ref, subscribe as sub } from 'valtio/vanilla';\nimport { OptionsController } from '@web3modal/core';\nconst state = proxy({\n    status: 'uninitialized'\n});\nexport const SIWEController = {\n    state,\n    subscribeKey(key, callback) {\n        return subKey(state, key, callback);\n    },\n    subscribe(callback) {\n        return sub(state, () => callback(state));\n    },\n    _getClient() {\n        if (!state._client) {\n            throw new Error('SIWEController client not set');\n        }\n        return state._client;\n    },\n    async getNonce() {\n        const client = this._getClient();\n        const nonce = await client.getNonce();\n        this.setNonce(nonce);\n        return nonce;\n    },\n    async getSession() {\n        const client = this._getClient();\n        const session = await client.getSession();\n        if (session) {\n            this.setSession(session);\n            this.setStatus('success');\n        }\n        return session;\n    },\n    createMessage(args) {\n        const client = this._getClient();\n        const message = client.createMessage(args);\n        this.setMessage(message);\n        return message;\n    },\n    async verifyMessage(args) {\n        const client = this._getClient();\n        const isValid = await client.verifyMessage(args);\n        return isValid;\n    },\n    async signIn() {\n        const client = this._getClient();\n        const session = await client.signIn();\n        return session;\n    },\n    async signOut() {\n        const client = this._getClient();\n        await client.signOut();\n        this.setStatus('ready');\n        client.onSignOut?.();\n    },\n    onSignIn(args) {\n        const client = this._getClient();\n        client.onSignIn?.(args);\n    },\n    onSignOut() {\n        const client = this._getClient();\n        client.onSignOut?.();\n    },\n    setSIWEClient(client) {\n        state._client = ref(client);\n        state.status = 'ready';\n        OptionsController.setIsSiweEnabled(client.options.enabled);\n    },\n    setNonce(nonce) {\n        state.nonce = nonce;\n    },\n    setStatus(status) {\n        state.status = status;\n    },\n    setMessage(message) {\n        state.message = message;\n    },\n    setSession(session) {\n        state.session = session;\n    }\n};\n//# sourceMappingURL=SIWEController.js.map",null,"var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { customElement } from '@web3modal/ui';\nimport { LitElement, html } from 'lit';\nimport styles from './styles.js';\nimport { OptionsController, StorageUtil } from '@web3modal/core';\nlet W3mConnectingSiwe = class W3mConnectingSiwe extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.dappImageUrl = OptionsController.state.metadata?.icons;\n        this.walletImageUrl = StorageUtil.getConnectedWalletImageUrl();\n    }\n    firstUpdated() {\n        const visuals = this.shadowRoot?.querySelectorAll('wui-visual-thumbnail');\n        if (visuals?.[0]) {\n            this.createAnimation(visuals[0], 'translate(18px)');\n        }\n        if (visuals?.[1]) {\n            this.createAnimation(visuals[1], 'translate(-18px)');\n        }\n    }\n    render() {\n        return html `\n      <wui-visual-thumbnail\n        ?borderRadiusFull=${true}\n        .imageSrc=${this.dappImageUrl?.[0]}\n      ></wui-visual-thumbnail>\n      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>\n    `;\n    }\n    createAnimation(element, translation) {\n        element.animate([{ transform: 'translateX(0px)' }, { transform: translation }], {\n            duration: 1600,\n            easing: 'cubic-bezier(0.56, 0, 0.48, 1)',\n            direction: 'alternate',\n            iterations: Infinity\n        });\n    }\n};\nW3mConnectingSiwe.styles = styles;\nW3mConnectingSiwe = __decorate([\n    customElement('w3m-connecting-siwe')\n], W3mConnectingSiwe);\nexport { W3mConnectingSiwe };\n//# sourceMappingURL=index.js.map",null,"import { css } from 'lit';\nexport default css `\n  :host {\n    display: flex;\n    justify-content: center;\n    gap: var(--wui-spacing-2xl);\n  }\n\n  wui-visual-thumbnail:nth-child(1) {\n    z-index: 1;\n  }\n`;\n//# sourceMappingURL=styles.js.map",null,"var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AccountController, ConnectionController, EventsController, ModalController, OptionsController, RouterController, SnackController } from '@web3modal/core';\nimport { customElement } from '@web3modal/ui';\nimport { LitElement, html } from 'lit';\nimport { state } from 'lit/decorators.js';\nimport { SIWEController } from '../../../core/controller/SIWEController.js';\nlet W3mConnectingSiweView = class W3mConnectingSiweView extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.dappName = OptionsController.state.metadata?.name;\n        this.isSigning = false;\n    }\n    render() {\n        return html `\n      <wui-flex justifyContent=\"center\" .padding=${['2xl', '0', 'xxl', '0']}>\n        <w3m-connecting-siwe></w3m-connecting-siwe>\n      </wui-flex>\n      <wui-flex\n        .padding=${['0', '4xl', 'l', '4xl']}\n        gap=\"s\"\n        justifyContent=\"space-between\"\n      >\n        <wui-text variant=\"paragraph-500\" align=\"center\" color=\"fg-100\"\n          >${this.dappName ?? 'Dapp'} needs to connect to your wallet</wui-text\n        >\n      </wui-flex>\n      <wui-flex\n        .padding=${['0', '3xl', 'l', '3xl']}\n        gap=\"s\"\n        justifyContent=\"space-between\"\n      >\n        <wui-text variant=\"small-400\" align=\"center\" color=\"fg-200\"\n          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect\n          you.</wui-text\n        >\n      </wui-flex>\n      <wui-flex .padding=${['l', 'xl', 'xl', 'xl']} gap=\"s\" justifyContent=\"space-between\">\n        <wui-button\n          size=\"md\"\n          ?fullwidth=${true}\n          variant=\"shade\"\n          @click=${this.onCancel.bind(this)}\n          data-testid=\"w3m-connecting-siwe-cancel\"\n        >\n          Cancel\n        </wui-button>\n        <wui-button\n          size=\"md\"\n          ?fullwidth=${true}\n          variant=\"fill\"\n          @click=${this.onSign.bind(this)}\n          ?loading=${this.isSigning}\n          data-testid=\"w3m-connecting-siwe-sign\"\n        >\n          ${this.isSigning ? 'Signing...' : 'Sign'}\n        </wui-button>\n      </wui-flex>\n    `;\n    }\n    async onSign() {\n        this.isSigning = true;\n        EventsController.sendEvent({\n            event: 'CLICK_SIGN_SIWE_MESSAGE',\n            type: 'track'\n        });\n        try {\n            SIWEController.setStatus('loading');\n            const session = await SIWEController.signIn();\n            SIWEController.setStatus('success');\n            EventsController.sendEvent({\n                event: 'SIWE_AUTH_SUCCESS',\n                type: 'track'\n            });\n            return session;\n        }\n        catch (error) {\n            SnackController.showError('Signature declined');\n            SIWEController.setStatus('error');\n            return EventsController.sendEvent({\n                event: 'SIWE_AUTH_ERROR',\n                type: 'track'\n            });\n        }\n        finally {\n            this.isSigning = false;\n        }\n    }\n    async onCancel() {\n        const { isConnected } = AccountController.state;\n        if (isConnected) {\n            await ConnectionController.disconnect();\n            ModalController.close();\n        }\n        else {\n            RouterController.push('Connect');\n        }\n        EventsController.sendEvent({\n            event: 'CLICK_CANCEL_SIWE',\n            type: 'track'\n        });\n    }\n};\n__decorate([\n    state()\n], W3mConnectingSiweView.prototype, \"isSigning\", void 0);\nW3mConnectingSiweView = __decorate([\n    customElement('w3m-connecting-siwe-view')\n], W3mConnectingSiweView);\nexport { W3mConnectingSiweView };\n//# sourceMappingURL=index.js.map",null],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","SIWEController","$0b9d8462c42cf872$export$4a2da4e102909cf4","$9CctF","$6JirK","$1b7jQ","constructor","siweConfig","enabled","nonceRefetchIntervalMs","ConstantsUtil","FIVE_MINUTES_IN_MS","sessionRefetchIntervalMs","signOutOnAccountChange","signOutOnDisconnect","signOutOnNetworkChange","siweConfigMethods","options","methods","getNonce","nonce","Error","createMessage","args","message","verifyMessage","getSession","session","signIn","address","AccountController","state","chainId","HelpersUtil","caipNetworkIdToNumber","NetworkController","caipNetwork","id","signature","ConnectionController","signMessage","onSignIn","RouterUtil","navigateAfterNetworkSwitch","signOut","$4e6541268a2be40e$export$aafe1f751f1bc52a","$c821ef35a29a30af$export$3ff5b538099e7763","$8tzvu","$lDt57","$c821ef35a29a30af$var$state","proxy","status","subscribeKey","key","callback","subscribe","_getClient","_client","client","setNonce","setSession","setStatus","setMessage","onSignOut","setSIWEClient","ref","OptionsController","setIsSiweEnabled","$8lZNB","$dYFMW","$8oFEX","$52ab555e463572b3$export$415fdf721000461b","LitElement","arguments","dappImageUrl","metadata","icons","walletImageUrl","StorageUtil","getConnectedWalletImageUrl","firstUpdated","visuals","shadowRoot","querySelectorAll","createAnimation","render","html","element","translation","animate","transform","duration","easing","direction","iterations","Infinity","styles","default","$52ab555e463572b3$var$__decorate","decorators","target","desc","d","c","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","customElement","$61d0e159736e59ce$export$2e2bcd8739ae039","css","$7AsZS","$hbiEF","$5b04b9c9c8622b46$var$__decorate","$5b04b9c9c8622b46$export$cbe596dc0e3ac801","dappName","name","isSigning","onCancel","bind","onSign","EventsController","sendEvent","event","type","error","SnackController","showError","isConnected","disconnect","ModalController","close","RouterController","push","prototype"],"version":3,"file":"exports.2d101d2b.js.map"}